var merchant=merchant||{};merchant.modules=merchant.modules||{},(o=>{merchant.modules.quickView={init:function(){var t=o(".merchant-quick-view-modal");t.length&&t.each(function(){var e=o(this),n=e.find(".merchant-quick-view-close-button"),a=e.find(".merchant-quick-view-inner"),i=e.find(".merchant-quick-view-content"),t=e.find(".merchant-quick-view-overlay"),c=!1;o(document).on("click",".merchant-quick-view-button",function(t){t.preventDefault(),i.empty(),e.addClass("merchant-show"),e.addClass("merchant-loading"),c=!0,o.post(window.merchant.setting.ajax_url,{action:"merchant_quick_view_content",nonce:window.merchant.setting.nonce,product_id:o(this).data("product-id")},function(t){var n;t.success&&c?(i.html(t.data),a.addClass("merchant-show"),e.removeClass("merchant-loading"),n=i.find(".woocommerce-product-gallery"),wc_single_product_params.zoom_enabled=window.merchant.setting.quick_view_zoom,"function"==typeof o.fn.wc_product_gallery&&n.length&&(n.trigger("wc-product-gallery-before-init",[n.get(0),wc_single_product_params]),wc_single_product_params.flexslider_enabled="1",n.wc_product_gallery(wc_single_product_params),n.trigger("wc-product-gallery-after-init",[n.get(0),wc_single_product_params])),n=i.find(".variations_form"),"function"==typeof o.fn.wc_variation_form&&n.length&&n.each(function(){o(this).wc_variation_form()}),window.botiga&&window.botiga.productSwatch&&window.botiga.productSwatch.init(),window.botiga&&window.botiga.qtyButton&&window.botiga.qtyButton.init("quick-view")):(i.html(t.data),a.addClass("merchant-show"),e.removeClass("merchant-loading")),window.dispatchEvent(new Event("merchant.quickview.ajax.loaded"))}).fail(function(t,n){i.html(n),a.addClass("merchant-show"),e.removeClass("merchant-loading")})}),t.on("click",function(t){t.preventDefault(),n.trigger("click")}),n.on("click",function(t){t.preventDefault(),c=!1,e.removeClass("merchant-show"),a.removeClass("merchant-show")})})}},o(document).ready(function(){merchant.modules.quickView.init()})})(jQuery);