var botiga=botiga||{};botiga.single_ajax_add_to_cart={init:function(){jQuery(document).on("click",".single_add_to_cart_button",function(a){a.preventDefault();var t=jQuery(this),a=t.closest("form.cart"),r={};r["add-to-cart"]=t.val(),r=a.serializeArray().reduce(function(a,t){return a[t.name]=t.value,a},r),t.removeClass("added").addClass("loading"),jQuery.post({url:wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","botiga_single_ajax_add_to_cart"),data:r,success:function(a){a&&(a.error&&a.product_url?window.location=a.product_url:"yes"===wc_add_to_cart_params.cart_redirect_after_add?window.location=wc_add_to_cart_params.cart_url:(jQuery(document.body).trigger("added_to_cart",[a.fragments,a.cart_hash,t]),jQuery(".woocommerce-error, .woocommerce-message, .woocommerce-info").remove(),jQuery(".woocommerce-notices-wrapper").append(a.fragments.notices),t.removeClass("loading").addClass("added")))}})}),jQuery(".botiga-single-addtocart-wrapper .quantity .qty").on("change",this.quantityValidation)},quantityValidation:function(){var a,t,r,e=jQuery(this);return!!e.length&&(a=""!==e.attr("min")&&parseFloat(e.attr("min")),t=""!==e.attr("max")&&parseFloat(e.attr("max")),r=""!==e.attr("step")?parseFloat(e.attr("step")):1,r=Math.floor((parseFloat(e.val())-a)/r)*r+a,""===e.val()||a&&r<a?(e.val(a),!1):t&&t<r?(e.val(t),!1):void e.val(r))}},jQuery(document).ready(function(){botiga.single_ajax_add_to_cart.init()});